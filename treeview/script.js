var json_data = {
  "name": " ",
  "children": [
    {
     "name": "Basic",
     "free": true,
     "description": "Interactive authoring tools",
     "children": [
      {
       "name": "Computer Network คืออะไร",
       "description": "Web-based 'cloud' applications for authoring data visualisations",
       "free": true,
      },
      {
       "name": "คำศัพท์พื้นฐาน",
       "description": "Open-source interactive tool for creating and exporting D3-like charts",
       "url": "http://raw.densitydesign.org/",
       "free": true,
       "children": [
        {
         "name": "Client",
         "description": "Powerful tool for data analytics and visualisation",
         "url": "http://www.tableausoftware.com/products/desktop",
         "free": true
        },
        {
         "name": "Server",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        },
        {
         "name": "Peer",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        },
        {
         "name": "Host",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        },
        {
         "name": "BandWidth",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        },
        {
         "name": "Jitter",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        },
        {
         "name": "Packet",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        },
        {
         "name": "Frame",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        },
        {
         "name": "Local Host",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        },
        {
         "name": "Bit rate",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        },
        {
         "name": "noise",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        },
        {
         "name": "attenuation",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        },
        {
         "name": "distortion",
         "description": "Free version of Tableau Desktop where charts are public",
         "url": "http://www.tableausoftware.com/products/public",
         "free": true
        }
       ]
      }
      ,
      {
       "name": "เว็บ คืออะไร",
       "description": "The language behind most (all?) browser-based data visualisations",
       "free": true,
       "children": [
        {
         "name": "อินเทอร์เน็ตและเว็บแตกต่างกันอย่างไร?",
         "description": "Off-the-shelf pre-designed charts. Easy to use but less flexible.",
         "free": true,
        }
       ]
      },
      {
       "name": "ประเภทสื่อส่งสัญญาณ",
       "description": "Non-JavaScript languages for producing web-based data visualisations",
       "free": true,
      },
      {
       "name": "อุปกรณ์เครือข่ายคอมพิวเตอร์",
       "description": "Non-JavaScript languages for producing web-based data visualisations",
       "free": true,
      }
      ,
      {
       "name": "Unicast, BroadCast and Multicast",
       "description": "Non-JavaScript languages for producing web-based data visualisations",
       "free": true,
      }
      ,
      {
       "name": "Network Topology",
       "description": "Non-JavaScript languages for producing web-based data visualisations",
       "free": true,
       "children": [
         {
          "name": "P2P",
          "description": "Off-the-shelf pre-designed charts. Easy to use but less flexible.",
          "free": true,
         },
         {
           "name": "Bus",
           "description": "Off-the-shelf pre-designed charts. Easy to use but less flexible.",
           "free": true,
         },
         {
           "name": "Ring",
           "description": "Off-the-shelf pre-designed charts. Easy to use but less flexible.",
           "free": true,
         },
         {
           "name": "Star",
           "description": "Off-the-shelf pre-designed charts. Easy to use but less flexible.",
           "free": true,
         },
         {
           "name": "Tree",
           "description": "Off-the-shelf pre-designed charts. Easy to use but less flexible.",
           "free": true,
         },
         {
           "name": "Mesh",
           "description": "Off-the-shelf pre-designed charts. Easy to use but less flexible.",
           "free": true,
         },
         {
           "name": "Hybrid",
           "description": "Off-the-shelf pre-designed charts. Easy to use but less flexible.",
           "free": true,
         }
        ]
      },
      {
       "name": "LAN, MAN and WAN",
       "description": "Off-the-shelf pre-designed charts. Easy to use but less flexible.",
       "free": true,
      }
     ]
    },
    {
     "name": "OSI Model",
     "description": "Code-based data visualisation creation",
     "free": true,
     "children": [
      {
        "name": "OSI Model คืออะไร",
        "description": "A good selection of charts including bar, line, scatter, geo, pie, donut, org etc.",
        "url": "https://developers.google.com/chart/",
        "free": true
      }, 
      {
        "name": "Layers ต่างๆ",
        "description": "A good selection of charts including bar, line, scatter, geo, pie, donut, org etc.",
        "url": "https://developers.google.com/chart/",
        "free": true,
        "children": [
        {
          "name": "Physical",
          "description": "A good selection of charts including bar, line, scatter, geo, pie, donut, org etc.",
          "url": "https://developers.google.com/chart/",
          "free": true,
        },
        {
          "name": "Data Link",
          "description": "A good selection of charts including bar, line, scatter, geo, pie, donut, org etc.",
          "url": "https://developers.google.com/chart/",
          "free": true,
        },
        {
          "name": "Network",
          "description": "A good selection of charts including bar, line, scatter, geo, pie, donut, org etc.",
          "url": "https://developers.google.com/chart/",
          "free": true,
        },
        {
          "name": "Transport",
          "description": "A good selection of charts including bar, line, scatter, geo, pie, donut, org etc.",
          "url": "https://developers.google.com/chart/",
          "free": true,
        },
        {
          "name": "Session",
          "description": "A good selection of charts including bar, line, scatter, geo, pie, donut, org etc.",
          "url": "https://developers.google.com/chart/",
          "free": true,
        },
        {
          "name": "Presentation",
          "description": "A good selection of charts including bar, line, scatter, geo, pie, donut, org etc.",
          "url": "https://developers.google.com/chart/",
          "free": true,
        },
        {
          "name": "Application",
          "description": "A good selection of charts including bar, line, scatter, geo, pie, donut, org etc.",
          "url": "https://developers.google.com/chart/",
          "free": true,
        }
        ]
      }, 
      {
        "name": "Packet Traveling",
        "description": "A good selection of charts including bar, line, scatter, geo, pie, donut, org etc.",
        "url": "https://developers.google.com/chart/",
        "free": true
      }     
    ]
    },/*
    {
     "name": "1",
     "description": "Code-based data visualisation creation",
     "free": true,
     "children": [
      {
       "name": "1-0",
       "description": "The language behind most (all?) browser-based data visualisations",
       "free": true,
       "children": [
        {
         "name": "1-0-0",
         "description": "Off-the-shelf pre-designed charts. Easy to use but less flexible.",
         "free": true,
         "children": [
          {
           "name": "1-0-0-0",
           "description": "A good selection of charts including bar, line, scatter, geo, pie, donut, org etc.",
           "url": "https://developers.google.com/chart/",
           "free": true
          },
          {
           "name": "1-0-0-1",
           "description": "A well maintained commercial library of commonly used chart types",
           "url": "https://www.highcharts.com/"
          },
          {
           "name": "1-0-0-2",
           "description": "A lovely selection of charts including bar, pie, sunburst, icicle, network, trees etc.",
           "url": "https://philogb.github.io/jit/",
           "free": true
          },
          {
           "name": "1-0-0-3",
           "description": "Libraries for visualising geographic data",
           "free": true,
           "children": [
            {
             "name": "1-0-0-3-0",
             "description": "Lovely vector based mapping library with good browser support",
             "url": "http://kartograph.org/",
             "free": true
            },
            {
             "name": "1-0-0-3-1",
             "description": "Tile-based mapping library",
             "url": "http://leafletjs.com/",
             "free": true
            }
           ]
          },
          {
           "name": "1-0-0-4",
           "description": "Beautiful line, scatter and histogram charts built on top of D3",
           "url": "http://metricsgraphicsjs.org/",
           "free": true
          },
          {
           "name": "1-0-0-5",
           "description": "A general purpose charting library built on top of D3",
           "url": "http://nvd3.org/",
           "free": true
          },
          {
           "name": "1-0-0-6",
           "description": "Library for visualising networks",
           "url": "http://sigmajs.org/",
           "free": true
          }
         ]
        },
        {
         "name": "1-0-1",
         "description": "For maximum flexibility, custom coding is the way to go. These libraries will lend a hand.",
         "free": true,
         "children": [
          {
           "name": "1-0-1-0",
           "description": "The jewel in the crown of web-based data visualisation. A library packed full of components for building any data visualisation you can imagine.",
           "url": "https://d3js.org/",
           "free": true
          },
          {
           "name": "1-0-1-1",
           "description": "Relatively new, Ractive helps you make your HTML and SVG interactive",
           "url": "http://www.ractivejs.org/",
           "free": true
          },
          {
           "name": "1-0-1-2",
           "description": "A general purpose drawing library with good browser support",
           "url": "http://raphaeljs.com/",
           "free": true
          },
          {
           "name": "1-0-1-3",
           "description": "A modern version of Raphaël that supports modern browsers",
           "url": "http://snapsvg.io/",
           "free": true
          },
          {
           "name": "1-0-1-4",
           "description": "A declarative, mark-up based data visualisation library",
           "url": "https://variancecharts.com/"
          },
          {
           "name": "1-0-1-5",
           "description": "A declarative language for specifying data visualistions",
           "url": "https://trifacta.github.io/vega/",
           "free": true
          }
         ]
        }
       ]
      },
      {
       "name": "1-1",
       "description": "Non-JavaScript languages for producing web-based data visualisations",
       "free": true,
       "children": [
        {
         "name": "1-1-0",
         "description": "Python's a very popular language in data science and is a pleasant language to learn and use",
         "free": true,
         "children": [
          {
           "name": "1-1-0-0",
           "description": "A powerful tool for producing interactive plots, dashboards and data applications",
           "url": "https://bokeh.pydata.org/",
           "free": true
          }
         ]
        },
        {
         "name": "1-1-1",
         "description": "Very popular language for data science",
         "free": true,
         "children": [
          {
           "name": "1-1-1-0",
           "description": "A platform for producing web applications using R",
           "url": "http://shiny.rstudio.com/",
           "free": true
          }
         ]
        }
       ]
      }
     ]
    },*/
    {
     "name": "System",
     "description": "Code-based data visualisation creation",
     "free": true,
     "children": [
      {
       "name": "Common Networking commands",
       "description": "aaa",
       "free": true,
       "children": [
        {
          "name": "ping",
          "description": "aaa",
          "free": true,
        },{
          "name": "netstat",
          "description": "aaa",
          "free": true,
        },{
          "name": "tracert",
          "description": "aaa",
          "free": true,
        },{
          "name": "ipconfig",
          "description": "aaa",
          "free": true,
        },{
          "name": "nslookup",
          "description": "aaa",
          "free": true,
        },{
          "name": "route",
          "description": "aaa",
          "free": true,
        },{
          "name": "pathping",
          "description": "aaa",
          "free": true,
        },{
          "name": "netDiag",
          "description": "aaa",
          "free": true,
        },{
          "name": "hostname",
          "description": "aaa",
          "free": true,
        },{
          "name": "arp",
          "description": "aaa",
          "free": true,
        }
       ]
      },
      {
       "name": "Difference between http:// and https:// ",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "What is API Gateway? ",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "SSL/TLS ",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Reverse Proxy ? ",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Load Balancer",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "ARP, Address Resolution Protocol",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Horizontal vs Vertical Scaling ",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Caching & How does a website is cached  ",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "what is VIP in computer networks ",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "REST API vs HTTP API",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "what is a Container in computer networks  ",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Containerisation vs Virtualisation",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Performance vs Scalability",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Latency vs Throughput ",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "2G vs 3G vs 4G vs 5G ",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "How a VPN works?",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Gateway vs Router",
       "description": "aaa",
       "free": true,
      },
      {
        "name": "NIC and MAC Address",
        "description": "aaa",
        "free": true,
      },
      {
        "name": "Public vs Private IP Address ",
        "description": "kkkkkkkkk",
        "free": true,
      },
      {
        "name": "What is Multiplexing ",
        "description": "kkkkkkkkk",
        "free": true,
      },
      {
        "name": "Modem vs Router ",
        "description": "kkkkkkkkk",
        "free": true,
      },
      {
        "name": "How Bluetooth works ",
        "description": "kkkkkkkkk",
        "free": true,
      },
      {
        "name": "How Hotspot works",
        "description": "kkkkkkkkk",
        "free": true,
      },
      {
        "name": "how Email worksc",
        "description": "kkkkkkkkk",
        "free": true,
      },
      {
        "name": "How file transfer works",
        "description": "kkkkkkkkk",
        "free": true,
      },
      {
        "name": "how ATM work",
        "description": "kkkkkkkkk",
        "free": true,
      }
     ]
    },{
     "name": "Security",
     "description": "Code-based data visualisation creation",
     "free": true,
     "children": [
      {
       "name": "What is Firewall ?",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Type of Firewall",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Possible attacks on Firewall",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Basic Network Attacks",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Denial of Service and Prevention",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Digital Signature & Certificates",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Terms to know",
       "description": "aaa",
       "free": true,
       "children": [
        {
          "name": "Cryptography",
          "description": "aaa",
          "free": true,
        },
        {
          "name": "Symmetrics Key  ",
          "description": "aaa",
          "free": true,
        },
        {
          "name": "Assymetric Key",
          "description": "aaa",
          "free": true,
        },
        {
          "name": "Hashing ",
          "description": "aaa",
          "free": true,
        },
        {
          "name": "Cryptanalysis",
          "description": "aaa",
          "free": true,
        },
        {
          "name": "AES/DES/RSA/MD5 hashing",
          "description": "aaa",
          "free": true,
        }
       ]
      },
      {
       "name": "Active & Passive attacks in Infosec",
       "description": "aaa",
       "free": true,
      },
      {
       "name": "Types of Email Attacks",
       "description": "aaa",
       "free": true,
      }
     ]
    }
  ]
 }
 


var realWidth = window.innerWidth;
var realHeight = window.innerHeight;

var m = [10, 240, 10, 240],
    w = realWidth -m[0] -m[0],
    h = realHeight -m[0] -m[2],
    i = 0,
    root;

var tree = d3.layout.tree()
    .size([h, w]);

var diagonal = d3.svg.diagonal()
    .projection(function(d) { return [d.y, d.x]; });

var vis = d3.select("#box").append("svg:svg")
    .attr("class","svg_container")
    .attr("width", w)
    .attr("height", h)
    .style("overflow", "scroll")
    .style("background-color","#EEEEEE")
  .append("svg:g")
    .attr("class","drawarea")
  .append("svg:g")
    .attr("transform", "translate(" + m[3] + "," + m[0] + ")");

var botao = d3.select("#form #button");




function zoom() {
    var scale = d3.event.scale,
        translation = d3.event.translate,
        tbound = -h * scale,
        bbound = h * scale,
        lbound = (-w + m[1]) * scale,
        rbound = (w - m[3]) * scale;
    // limit translation to thresholds
    translation = [
        Math.max(Math.min(translation[0], rbound), lbound),
        Math.max(Math.min(translation[1], bbound), tbound)
    ];
    d3.select(".drawarea")
        .attr("transform", "translate(" + translation + ")" +
              " scale(" + scale + ")");
}


root = json_data;
 root.x0 = h / 2;
 root.y0 = 0;
 
 function toggleAll(d) {
   if (d.children) {
     d.children.forEach(toggleAll);
     toggle(d);
   }
 }
 
   // Initialize the display to show a few nodes.
   // root.children.forEach(toggleAll);
   // toggle(root.children[1]);
   // toggle(root.children[1].children[2]);
   // toggle(root.children[9]);
   // toggle(root.children[9].children[0]);
 
  update(root);
 
 
 function update(source) {
   var duration = d3.event && d3.event.altKey ? 5000 : 500;
 
   // Compute the new tree layout.
   var nodes = tree.nodes(root).reverse();
 
   // Normalize for fixed-depth.
   nodes.forEach(function(d) { d.y = d.depth * 180; });
 
   // Update the nodes…
   var node = vis.selectAll("g.node")
       .data(nodes, function(d) { return d.id || (d.id = ++i); });
 
   // Enter any new nodes at the parent's previous position.
   var nodeEnter = node.enter().append("svg:g")
       .attr("class", "node")
       .attr("transform", function(d) { return "translate(" + source.y0 + "," + source.x0 + ")"; })
       .on("click", function(d) { toggle(d); update(d); });
 
   nodeEnter.append("svg:circle")
       .attr("r", 1e-6)
       .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });
 
   nodeEnter.append('a')
       .attr('xlink:href', function(d) {
         return d.url;
       })
       .append("svg:text")
       .attr("x", function(d) { return d.children || d._children ? -10 : 10; })
       .attr("dy", ".35em")
       .attr("text-anchor", function(d) { return d.children || d._children ? "end" : "start"; })
       .text(function(d) { return d.name; })
       .style('fill', function(d) {
         return d.free ? 'black' : '#999';
       })
       .style("fill-opacity", 1e-6);
 
   nodeEnter.append("svg:title")
     .text(function(d) {
       return d.description;
     });
 
   // Transition nodes to their new position.
   var nodeUpdate = node.transition()
       .duration(duration)
       .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });
 
   nodeUpdate.select("circle")
       .attr("r", 6)
       .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });
 
   nodeUpdate.select("text")
       .style("fill-opacity", 1);
 
   // Transition exiting nodes to the parent's new position.
   var nodeExit = node.exit().transition()
       .duration(duration)
       .attr("transform", function(d) { return "translate(" + source.y + "," + source.x + ")"; })
       .remove();
 
   nodeExit.select("circle")
       .attr("r", 1e-6);
 
   nodeExit.select("text")
       .style("fill-opacity", 1e-6);
 
   // Update the links…
   var link = vis.selectAll("path.link")
       .data(tree.links(nodes), function(d) { return d.target.id; });
 
   // Enter any new links at the parent's previous position.
   link.enter().insert("svg:path", "g")
       .attr("class", "link")
       .attr("d", function(d) {
         var o = {x: source.x0, y: source.y0};
         return diagonal({source: o, target: o});
       })
     .transition()
       .duration(duration)
       .attr("d", diagonal);
 
   // Transition links to their new position.
   link.transition()
       .duration(duration)
       .attr("d", diagonal);
 
   // Transition exiting nodes to the parent's new position.
   link.exit().transition()
       .duration(duration)
       .attr("d", function(d) {
         var o = {x: source.x, y: source.y};
         return diagonal({source: o, target: o});
       })
       .remove();
 
   // Stash the old positions for transition.
   nodes.forEach(function(d) {
     d.x0 = d.x;
     d.y0 = d.y;
   });

   d3.select("svg")
        .call(d3.behavior.zoom()
              .scaleExtent([0.5, 5])
              .on("zoom", zoom));
 }
 
 // Toggle children.
 function toggle(d) {
   if (d.children) {
     d._children = d.children;
     d.children = null;
   } else {
     d.children = d._children;
     d._children = null;
   }
 }
